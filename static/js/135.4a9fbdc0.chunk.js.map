{"version":3,"file":"static/js/135.4a9fbdc0.chunk.js","mappings":"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","sources":["Services/API.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '076665b0e01f9db198ffaf99145728ee';\nconst API_BASE = 'https://api.themoviedb.org/';\n\nexport const getTrendyMovies = async () => {\n  try {\n    const data = await axios.get(\n      `${API_BASE}3/trending/movie/day?api_key=${API_KEY}`\n    );\n\n    const trendyMovies = data.data.results.map(\n      ({ id, title, poster_path }) => ({\n        id: id,\n        title: title,\n        poster: poster_path\n          ? `https://image.tmdb.org/t/p/w300${poster_path}`\n          : null,\n      })\n    );\n\n    return trendyMovies;\n  } catch (error) {\n    alert(error);\n  }\n};\n\nexport const getMovieById = async movieId => {\n  try {\n    const data = await axios.get(\n      `${API_BASE}3/movie/${movieId}?api_key=${API_KEY}`\n    );\n\n    const byIdMovieDetails = {\n      title: data.data.title,\n      image: data.data.poster_path\n        ? `https://image.tmdb.org/t/p/w500${data.data.poster_path}`\n        : null,\n      score: data.data.vote_average,\n      overview: data.data.overview,\n      genres: data.data.genres.map(genre => genre.name).join(', '),\n    };\n\n    return byIdMovieDetails;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieCast = async movieId => {\n  try {\n    const data = await axios.get(\n      `${API_BASE}3/movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n\n    const castInfoArr = data.data.cast.map(\n      ({ name, character, profile_path }) => ({\n        name: name,\n        character: character,\n        profilePhoto: profile_path\n          ? `https://image.tmdb.org/t/p/w500${profile_path}`\n          : null,\n      })\n    );\n\n    return castInfoArr;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const data = await axios.get(\n      `${API_BASE}3/movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n\n    const reviewsArr = data.data.results.map(({ id, author, content }) => {\n      return {\n        id: id,\n        author: author,\n        content: content,\n      };\n    });\n\n    return reviewsArr;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieByName = async query => {\n  try {\n    const data = await axios.get(\n      `${API_BASE}3/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    const queryResult = data.data.results.map(({ id, title, poster_path }) => ({\n      id: id,\n      title: title,\n      poster: poster_path\n        ? `https://image.tmdb.org/t/p/w300${poster_path}`\n        : null,\n    }));\n    return queryResult;\n  } catch (error) {\n    console.error(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"goBackLink\":\"MovieDetails_goBackLink__0L6Dl\",\"infoWrapper\":\"MovieDetails_infoWrapper__4SlYR\",\"image\":\"MovieDetails_image__c1FeV\",\"descriptionWrapper\":\"MovieDetails_descriptionWrapper__RiNZz\",\"linkWrapper\":\"MovieDetails_linkWrapper__nchu-\",\"link\":\"MovieDetails_link__U+v+7\"};","import { useEffect, useState, Suspense } from 'react';\nimport { Outlet, Link, useParams, useLocation } from \"react-router-dom\";\nimport { getMovieById } from 'Services/API';\nimport defaultMoviePic from 'images/default-movie-pic.png';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [movie, setMovie] = useState(null);\n  \n  useEffect(() => {\n    getMovieById(movieId).then(result => {\n      if (result) {\n        setMovie(result);\n      }\n    });\n  }, [movieId]);\n \n  return (\n    <>\n      {movie && (\n        <>\n          <Link className={css.goBackLink} to={location.state ? location.state.from : '/'}>Go back</Link>\n          <div className={css.infoWrapper}>\n            <img className={css.image} src={movie.image || defaultMoviePic} alt={movie.title} />\n            <div className={css.descriptionWrapper}>\n              <h2 className={css.title}>{movie.title}</h2>\n              <div>\n                <h3>Genres:</h3>\n                <p>{movie.genres}</p>\n              </div>\n              <h3>User Score: {movie.score.toFixed(1)}</h3>\n              <div>\n                <h3>Overview</h3>\n                <p>{movie.overview}</p>\n              </div>\n            </div>\n          </div>\n          <div className={css.linkWrapper}>\n            <Link className={css.link} to=\"cast\" state={{ from: location.state.from }}>\n              Cast\n            </Link>\n            <Link className={css.link} to=\"reviews\" state={{ from: location.state.from }}>\n              Reviews\n            </Link>\n          </div>\n          <div>\n            <Suspense fallback={<div>Loading...</div>}>\n              <Outlet />\n            </Suspense>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default MovieDetails;"],"names":["API_KEY","API_BASE","getTrendyMovies","axios","data","trendyMovies","results","map","id","title","poster_path","poster","alert","getMovieById","movieId","byIdMovieDetails","image","score","vote_average","overview","genres","genre","name","join","console","error","getMovieCast","castInfoArr","cast","character","profile_path","profilePhoto","getMovieReviews","reviewsArr","author","content","getMovieByName","query","queryResult","useParams","location","useLocation","useState","movie","setMovie","useEffect","then","result","className","css","to","state","from","src","defaultMoviePic","alt","toFixed","Suspense","fallback"],"sourceRoot":""}